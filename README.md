Клаудија Стаменова 223282


Control Flow Graph:
![diagram_final_final drawio](https://github.com/klaudijastamenova/SI_2024_lab2_223282/assets/165088169/edf5f1bf-4902-41eb-9250-d4023e1264d2)
Графот го цртав преку алатката draw.io . 


#Цикломатска комплексност


Цикломатската комплексност изнесува вкупно 10. Ја пресметав така што откако го нацртав графот, го избројав вкупниот број на региони од што добив вкупно 9 и на оваа бројка се додава 1 според формулата.


#Every Branch критериум
(test cases):
![test_cases-excel](https://github.com/klaudijastamenova/SI_2024_lab2_223282/assets/165088169/6c58fcc1-4f10-4711-95e0-4d7a244e4563)
Објаснување:

Во првиот тест случај се внесуваат валидно име и баркод, цена поголена од 300 и discount поголем од 0.  Со вака зададените аргументи функцијата влегува во поголемиот дел од случаите и враќа true бидејќи сумата изнесува помалку од вкупната цена на предметите.

Во вториот тест случај ја тестираме функцијата кога allItems е null и payment да изнесува било колку. Во овој случај функцијата завршува со своето извршување уште во почетните линии од кодот бидејќи фрла исклучок каде не дозволува allItems да биде null, со пораката “ allItems list can't be null! “ . 

 Разликата која ја прави третиот тест случај во однос на претходните два е тоа што се задава празен стринг за име и со самото тоа влегува во statement 6-7 со што го сетира името на “unknown” .  Исто така во овој тест случај баркодот се задава да биде null и поради тоа се фрла исклучок за непостоечки баркод, со пораката “No barcode”.  Значи овој тест случај воедно го покрива исклучокот за баркодот кога е null и го сетира името на unknown кога истото е празно.

Четвртиот тест случај има невалиден баркод кој е поставен на 00AA, каде што А не е дел од allowed низата за дозволени карактери на баркодот. Со ова, се фрла исклучок со порака ,,Invalid character in item barcode! “ .

Последниот тест случај discount-от го поставува на нула, payment-от на 70 и задава вилидно име и баркод. Со самото тоа што discount-от изнесува нула, влегува во statement-от од 14-16 каде што сумата се става да биде на онолку колку што е и price(во случајов 100). Понатаму овој тест го покрива случајот кога сумата е поголема од вкупната цена на предметите и со самото тоа функцијата враќа false.



#Multiple Condition
(test cases):
![MC_test-cases](https://github.com/klaudijastamenova/SI_2024_lab2_223282/assets/165088169/56b73f2f-6ac6-41f7-933e-83869d29f89a)
Објаснување:

Во првиот случај за name="ItemA", code="123", price=110, discount=0.9 ќе се провери првиот дел од условот дали price > 300, што во случајов не е, и бидејќи ова ќе врати false а ние имаме AND condition, понатаму условот воопшто и нема да се провери и затоа не е важно кои ќе бидат вредностите за discount и баркод, посекако ќе се врати false.

За вториот тест случај имаме за name="ItemB", code="225", price=380, discount=0, најпрво ќе го провери првиот дел од условот за дали price > 300 и бидејќи price во случајов изнесува 380 овој де ќе биде исполнет и ќе се продолжи кон проверка на discount > 0. Откако ќе биде утврдено дека discount не е број поголем од нула, понатаму условот нема да се проверува бидејќи за истиот да биде исполнет потребно е сите три услови да бидат точни.

Со вредностите name="ItemC", code="777", price=400, discount=0.5 ќе бидат проверени сите три делови на условот, бидејќи првите два дела за price > 300 и discount > 0 ќе вратат true, ќе го провериме и делот за баркодот кој ќе врати false, што значи целиот услов е невистинит.

Последниот случај е случајот во кој вредностите се name="ItemD", code="099", price=350, discount=0.5 и истите се идеалниот случај за овој услов да биде исполнет. Најпрво ќе започнеме со првиот дел од условот, дали price > 300, овој дел ќе врати true бидејќи price изнесува 350, понатаму ќе продолжиме кон вториот дел од условот и ќе провериме дали discount > 0 и овој дел ќе биде исполнет поради тоа што discount изнесува 0.5. Поради тоа што претходните два дела од условот се вистинити продолжуваме во третиот дел кај баркодот. И овде утврдуваме дека и баркодот е во соодветниот баран формат т.е целиот услов ќе биде вистинит.


#Објаснување  за Unit тестовите:


Тестовите за every branch:

Во првиот тест assertTrue(SILab2.checkCart( ItemList(new Item("ItemA", "0013", 320, 0.3f)),200)); со помош на assertTrue проверуваме дали функцијата checkCart враќа true . Бидејќи податоците кои и ги предаваме на функцијата се валидни, таа враќа true.
Во вториот тест runtimeException = assertThrows(RuntimeException.class, () -> SILab2.checkCart(null, 500));
assertTrue(runtimeException.getMessage().contains("allItems list can't be null!"));
проверуваме дали методот ќе фрли исклучок во случај кога праќаме празна низа и очекуваме да се фрли исклучок со порака "allItems list can't be null!".

Исто така и во третиот тест runtimeException = assertThrows(RuntimeException.class, () -> SILab2.checkCart(ItemList(new Item("", null, 90, 0)), 500));
assertTrue(runtimeException.getMessage().contains("No barcode!"));  очекуваме да биде фрлен исклучок за празен баркод, па затоа го користиме assertThrows.

Со тестот runtimeException = assertThrows(RuntimeException.class, () -> SILab2.checkCart(ItemList(new Item("ItemE", "0AAA", 200, 0)), 80));
assertTrue(runtimeException.getMessage().contains("Invalid character in item barcode!")); правиме проверка дали методот ќе фрли исклучок во случај кога имаме невалиден карактер во баркодот. Пораката што ја очекуваме од исклучокот е "Invalid character in item barcode!".

Последниот тест assertFalse(SILab2.checkCart(ItemList(new Item("ItemE", "059", 100, 0)), 70)); проверува дали методот ќе врати false за ставки кои не ги исполнуваат условите. Затоа го користиме assertFalse и очекуваме false да ни врати методот од причина што иако баркодот го исполнува потребниот формат, вредностите на останатите аргументи не се доволни за методот да би вратил true.

Тестовите за multiple condition:

1.	Во првиот тест assertFalse(SILab2.checkCart( ItemList(new Item("ItemA", "123", 110, 0.9f)),50)); методот треба да врати false и од таа причина користиме assertFalse. Методот враќа false од причина што најпрво ќе се провери цената која треба да биде поголема од 300, а во случајов изнесува 110. Поради тоа што овој дел од условот нема да биде исполнет функцијата веднаш ќе врати false без оглед на вредностите на останатите параметри.
2.	Во вториот тест assertFalse(SILab2.checkCart( ItemList(new Item("ItemB", "225", 380, 0)),50)); методот повторно ќе врати false. Ќе ја провери цената и таа овојпат ќе го исполнува условот да биде поголема од 300. Но, при проверка на discount-от целиот услов ќе биде невистинит поради тоа што за discount имаме 0. Третиот дел од условот воопшто нема да се провери.
3.	Во третиот тест assertFalse(SILab2.checkCart( ItemList(new Item("ItemC", "777", 400, 0.5f)),50)); иако првите два дела од условот ни се исполнети, функцијата враќа false поради третиот дел кој не е исполнет баркодот да започнува со 0. Така, целиот метод враќа false.
4.	Во четвртиот тест assertFalse(SILab2.checkCart( ItemList(new Item("ItemD", "099", 350, 0.5f)),50)); повторно функцијата ќе врати резултат false. Можеме да забележиме дека условот за цена > 300 е исполнет, валидни се името и баркодот, discount-от е исто така поголем од 0. Но суштински овој метод враќа false поради условот во кодот кој проверува дали сумата е помала од payment-от да би вратила функцијата true. Во нашиот случај сумата изнесува 145(350*0,5 – 30) додека payment-от само 50. Од оваа причина целиот метод враќа false.




